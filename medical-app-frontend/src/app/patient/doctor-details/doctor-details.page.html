<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/patient/patient-dashboard"></ion-back-button>
    </ion-buttons>
    <ion-title>Doctor Details</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <!-- Loading Spinner -->
  <div *ngIf="isLoading" class="loading-spinner">
    <ion-spinner name="crescent"></ion-spinner>
  </div>

  <!-- Error Message -->
  <div *ngIf="errorMessage" class="error-message">
    {{ errorMessage }}
  </div>

  Doctor Info
  <div class="doctor-info" *ngIf="doctor">
    <ion-img [src]="doctor.image" [alt]="doctor.profile.firstName + ' ' + doctor.profile.lastName"></ion-img>
    <h2>{{ doctor.profile.firstName }} {{ doctor.profile.lastName }}</h2>
    <p>{{ doctor.profile.specialization }}</p>
    <div class="rating">
      <ion-icon name="star"></ion-icon>
      <span>{{ doctor.rating }}</span>
    </div>
  </div>

  <!-- Description -->
  <div class="section">
    <h3>Descriptions</h3>
    <p>
      There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form, by injected humour, or randomised words which don't look even slightly believable.
    </p>

  </div>

  <!-- Select Date -->
  <div class="section" *ngIf="doctor">
    <h3>Select Date</h3>
    <ion-datetime
      presentation="date"
      [highlightedDates]="highlightedDates"
      (ionChange)="onDateChange($event)"
    ></ion-datetime>
  </div>

  <!-- Time Slots -->
  <div class="section" *ngIf="times.length > 0">
    <h3>Select Time</h3>
    <div class="time-picker">
      <ion-button
        *ngFor="let time of times"
        [ngClass]="{'selected': selectedTime === time}"
        (click)="selectTime(time)"
      >
        {{ time }}
      </ion-button>
    </div>
  </div>

  <!-- Reason for Appointment -->
  <div class="section" *ngIf="doctor">
    <h3>Reason for Appointment</h3>
    <ion-item>
      <ion-input
        type="text"
        [(ngModel)]="reason"
        placeholder="Enter reason for appointment"
      ></ion-input>
    </ion-item>
  </div>

  <!-- Action Buttons -->
  <div class="action-buttons" *ngIf="doctor">
    <ion-button fill="solid" (click)="bookAppointment()">Book Appointment</ion-button>
  </div>
</ion-content>
