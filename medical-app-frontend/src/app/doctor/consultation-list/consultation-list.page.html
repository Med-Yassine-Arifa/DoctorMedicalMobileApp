<ion-header>
    <ion-toolbar>
        <ion-title>Consultations</ion-title>
        <ion-buttons slot="end">
            <ion-button (click)="navigateToForm()">New Consultation</ion-button>
        </ion-buttons>
    </ion-toolbar>
</ion-header>

<ion-content>
    <ion-list>
        <ion-item
                *ngFor="let consultation of consultations"
                button
                (click)="navigateToForm(consultation.id)"
        >
            <ion-label>
                <h2>Patient ID: {{ consultation.patientId || 'N/A' }}</h2>
                <p>Diagnosis: {{ consultation.diagnosis || 'N/A' }}</p>
                <p>Date: {{ consultation.createdAt | date:'short' }}</p>
            </ion-label>
            <ion-button
                    slot="end"
                    color="danger"
                    (click)="deleteConsultation(consultation.id); $event.stopPropagation()"
            >
                Delete
            </ion-button>
        </ion-item>
        <ion-item *ngIf="!consultations.length">
            <ion-label>No consultations available.</ion-label>
        </ion-item>
    </ion-list>
</ion-content>
